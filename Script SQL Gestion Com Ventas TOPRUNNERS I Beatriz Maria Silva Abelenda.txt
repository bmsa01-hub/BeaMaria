CREATE SCHEMA TOPRUNNERS;
USE TOPRUNNERS;

CREATE TABLE CLAS_PROD(
	id_clasif VARCHAR(10) NOT NULL PRIMARY KEY,
	desc_clas VARCHAR(50) NOT NULL);

CREATE TABLE VENDED(
	id_vend INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
	name VARCHAR(100) NOT NULL,
	id_local INT NOT NULL);

CREATE TABLE LOCAL(
	id_local INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
	direcc VARCHAR(50) NOT NULL);

CREATE TABLE PRODUCT(
	id_prod VARCHAR(10) NOT NULL PRIMARY KEY,
	desc_prod VARCHAR(100) NOT NULL,
	price DECIMAL(12,2) NOT NULL,
	id_clasif VARCHAR(10) NOT NULL);

CREATE TABLE COMISION(
	id_comis INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
	descrip VARCHAR(50) NOT NULL,
	fecha_vig DATE NOT NULL,
	porc DECIMAL(3,2) NOT NULL);

CREATE TABLE INCENTIVOS(
	id_incent INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
	fecha_vig DATE NOT NULL,
	puesto_loc INT NOT NULL,
	porc DECIMAL(3,2) NOT NULL);

CREATE TABLE FACTURAC(
	id_fact INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
	fecha_vta DATE NOT NULL,
	doc_client INT NOT NULL,
	id_local INT NOT NULL,
	id_prod VARCHAR(10) NOT NULL,
	id_vend INT NOT NULL,
	price DECIMAL(12,2) NOT NULL);

CREATE TABLE FACT_PER(
	id_result INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
	period DATE NOT NULL,
	doc_client INT NOT NULL,
	id_local INT NOT NULL,
	id_vend INT NOT NULL,
	id_com INT NOT NULL,
	tot_fact DECIMAL(12,2) NOT NULL);

CREATE TABLE INCENT_PER(
	id_inc INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
	fecha_corte DATE NOT NULL,
	id_local INT NOT NULL,
	q_ventas DECIMAL(12,2) NOT NULL,
	porc_inc DECIMAL(3,2) NOT NULL);

ALTER TABLE VENDED ADD CONSTRAINT fk_id_local_0
	FOREIGN KEY (id_local) REFERENCES LOCAL (id_local);

ALTER TABLE PRODUCT ADD CONSTRAINT fk_id_clasif
	FOREIGN KEY (id_clasif) REFERENCES CLAS_PROD (id_clasif);

ALTER TABLE FACTURAC ADD CONSTRAINT fk_id_local_1
	FOREIGN KEY (id_local) REFERENCES LOCAL (id_local);

ALTER TABLE FACTURAC ADD CONSTRAINT fk_id_prod
	FOREIGN KEY (id_prod) REFERENCES PRODUCT (id_prod);

ALTER TABLE FACTURAC ADD CONSTRAINT fk_id_vend
	FOREIGN KEY (id_vend) REFERENCES VENDED (id_vend);

ALTER TABLE FACT_PER ADD CONSTRAINT fk_id_local_2
	FOREIGN KEY (id_local) REFERENCES LOCAL (id_local);

ALTER TABLE FACT_PER ADD CONSTRAINT fk_id_vend_1
	FOREIGN KEY (id_vend) REFERENCES VENDED (id_vend);

ALTER TABLE FACT_PER ADD CONSTRAINT fk_id_com
	FOREIGN KEY (id_com) REFERENCES COMISION (id_comis);

ALTER TABLE INCENT_PER ADD CONSTRAINT fk_id_local_3
	FOREIGN KEY (id_local) REFERENCES LOCAL (id_local);